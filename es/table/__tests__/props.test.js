import * as React from 'react';
import { mount } from 'enzyme';
import TestRenderer from 'react-test-renderer';
import sinon from 'sinon';
import Table from '..';
var dataSource = [{
  "one": "阿萨德",
  "two": "阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德",
  "four": "阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德",
  "three": "阿萨德阿萨德阿萨德阿萨德阿萨德"
}, {
  "one": "阿萨德",
  "two": "阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德",
  "four": "阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德",
  "three": "阿萨德阿萨德阿萨德阿萨德阿萨德"
}, {
  "one": "阿萨德",
  "two": "阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德",
  "four": "阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德",
  "three": "阿萨德阿萨德阿萨德阿萨德阿萨德"
}, {
  "one": "阿萨德",
  "two": "阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德",
  "four": "阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德",
  "three": "阿萨德阿萨德阿萨德阿萨德阿萨德"
}, {
  "one": "阿萨德",
  "two": "阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德",
  "four": "阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德阿萨德",
  "three": "阿萨德阿萨德阿萨德阿萨德阿萨德"
}];
describe("Table", function () {
  beforeAll(function () {
    Element.prototype.getBoundingClientRect = jest.fn(function () {
      return {
        width: 500,
        height: 600,
        top: 0,
        left: 0,
        bottom: 0,
        right: 0,
        x: 0,
        y: 0,
        toJSON: function toJSON() {}
      };
    });
  });
  it("headerAffixed 检测", function () {
    var wrapper = mount(React.createElement(Table, {
      dataSource: dataSource,
      headerAffixed: true
    }, React.createElement(Table.Column, {
      dataIndex: "one",
      title: "\u7B2C\u4E00\u9879",
      popover: "\u8868\u5934\u63D0\u793A\u5185\u5BB9",
      width: "100px",
      fixed: "left"
    }), React.createElement(Table.Column, {
      fixed: "right",
      dataIndex: "two",
      title: "\u7B2Cer\u9879",
      width: 300
    }), React.createElement(Table.Column, {
      dataIndex: "s",
      title: "\u7B2Csi\u9879",
      width: "10%",
      align: "center",
      render: function render() {
        return "这些撒大声地";
      }
    }), React.createElement(Table.Column, {
      dataIndex: "three",
      title: "\u7B2Csan\u9879"
    }), React.createElement(Table.Column, {
      dataIndex: "four",
      title: "\u7B2Csi\u9879",
      width: 300,
      align: "right"
    })));
    global.innerWidth = 500;
    global.dispatchEvent(new Event('resize'));
    global.dispatchEvent(new Event('scroll'));
    wrapper.instance().handleMainTableScroll();
    wrapper.instance().componentWillUnmount();
  });
  it("height 与 headerAffixed 不能同时使用 验证", function () {
    var stub = sinon.stub(console, 'error');
    mount(React.createElement(Table, {
      dataSource: dataSource,
      height: 500,
      headerAffixed: true
    }, React.createElement(Table.Column, {
      dataIndex: "one",
      title: "\u534A\u89D2\u62EC\u53F7\u5916(\u534A\u89D2\u62EC\u53F7\u5185\u6D4B\u8BD5)",
      popover: "\u8868\u5934\u63D0\u793A\u5185\u5BB9",
      width: 100,
      fixed: "left"
    })));
    expect(stub.calledOnce).toBe(true);
    stub.restore();
  });
  it("height 检测", function () {
    var wrapper = mount(React.createElement(Table, {
      dataSource: dataSource,
      height: 200
    }, React.createElement(Table.Column, {
      dataIndex: "one",
      title: "\u7B2C\u4E00\u9879",
      popover: "\u8868\u5934\u63D0\u793A\u5185\u5BB9",
      width: 100,
      fixed: "left"
    }), React.createElement(Table.Column, {
      fixed: "right",
      dataIndex: "two",
      title: "\u7B2Cer\u9879",
      width: 300
    }), React.createElement(Table.Column, {
      dataIndex: "s",
      title: "\u7B2Csi\u9879",
      width: 300,
      align: "center",
      render: function render() {
        return "这些撒大声地";
      }
    }), React.createElement(Table.Column, {
      dataIndex: "three",
      title: "\u7B2Csan\u9879"
    }), React.createElement(Table.Column, {
      dataIndex: "four",
      title: "\u7B2Csi\u9879",
      width: 300,
      align: "right"
    })));
    global.innerWidth = 500;
    global.innerHeight = 500;
    global.dispatchEvent(new Event('resize'));
    global.dispatchEvent(new Event('scroll'));
    wrapper.instance().handleMainTableScroll();
  });
  it("Column width 在 fixed 时必须设置 验证", function () {
    var stub = sinon.stub(console, 'error');
    mount(React.createElement(Table, {
      dataSource: dataSource
    }, React.createElement(Table.Column, {
      dataIndex: "one",
      title: "\u7B2C\u4E00\u9879",
      fixed: "left"
    })));
    expect(stub.calledOnce).toBe(true);
    stub.restore();
  });
  it("loading 快照", function () {
    var wrapper = TestRenderer.create(React.createElement(Table, {
      loading: true,
      dataSource: dataSource
    }, React.createElement(Table.Column, {
      dataIndex: "one",
      title: "\u7B2C\u4E00\u9879",
      fixed: "left"
    })));
    expect(wrapper).toMatchSnapshot();
  });
  it("合并单元格快照", function () {
    var wrapper = TestRenderer.create(React.createElement(Table, {
      dataSource: dataSource,
      getCellProps: function getCellProps(_, __, rowIndex, colIndex) {
        if (rowIndex === 0 && colIndex === 0) {
          return {
            rowSpan: 2,
            colSpan: 2
          };
        }

        if (rowIndex === 3 && colIndex === 2) {
          return {
            rowSpan: 2,
            colSpan: 1
          };
        }

        if (rowIndex === 3 && colIndex === 3) {
          return {
            rowSpan: 2,
            colSpan: 1
          };
        }

        if (rowIndex === 2 && colIndex === 0) {
          return {
            rowSpan: 1,
            colSpan: 1
          };
        }

        return {};
      }
    }, React.createElement(Table.Column, {
      dataIndex: "one",
      title: "\u7B2C\u4E00\u9879",
      fixed: true
    }), React.createElement(Table.Column, {
      dataIndex: "two",
      title: "\u7B2Cer\u9879",
      fixed: true
    }), React.createElement(Table.Column, {
      dataIndex: "three",
      title: "\u7B2C3\u9879",
      align: "center"
    }), React.createElement(Table.Column, {
      dataIndex: "four",
      title: "\u7B2C\u56DB\u9879",
      align: "center",
      fixed: "right"
    })));
    expect(wrapper).toMatchSnapshot();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2NvbXBvbmVudHMvdGFibGUvX190ZXN0c19fL3Byb3BzLnRlc3QudHN4Il0sIm5hbWVzIjpbIlJlYWN0IiwibW91bnQiLCJUZXN0UmVuZGVyZXIiLCJzaW5vbiIsIlRhYmxlIiwiZGF0YVNvdXJjZSIsImRlc2NyaWJlIiwiYmVmb3JlQWxsIiwiRWxlbWVudCIsInByb3RvdHlwZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImplc3QiLCJmbiIsIndpZHRoIiwiaGVpZ2h0IiwidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0IiwieCIsInkiLCJ0b0pTT04iLCJpdCIsIndyYXBwZXIiLCJnbG9iYWwiLCJpbm5lcldpZHRoIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiaW5zdGFuY2UiLCJoYW5kbGVNYWluVGFibGVTY3JvbGwiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInN0dWIiLCJjb25zb2xlIiwiZXhwZWN0IiwiY2FsbGVkT25jZSIsInRvQmUiLCJyZXN0b3JlIiwiaW5uZXJIZWlnaHQiLCJjcmVhdGUiLCJ0b01hdGNoU25hcHNob3QiLCJfIiwiX18iLCJyb3dJbmRleCIsImNvbEluZGV4Iiwicm93U3BhbiIsImNvbFNwYW4iXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sS0FBS0EsS0FBWixNQUF1QixPQUF2QjtBQUNBLFNBQVNDLEtBQVQsUUFBc0IsUUFBdEI7QUFDQSxPQUFPQyxZQUFQLE1BQXlCLHFCQUF6QjtBQUNBLE9BQU9DLEtBQVAsTUFBa0IsT0FBbEI7QUFDQSxPQUFPQyxLQUFQLE1BQWtCLElBQWxCO0FBRUEsSUFBTUMsVUFBVSxHQUFHLENBQ2pCO0FBQ0UsU0FBTyxLQURUO0FBRUUsU0FBTyxvQkFGVDtBQUdFLFVBQVEseUNBSFY7QUFJRSxXQUFTO0FBSlgsQ0FEaUIsRUFPakI7QUFDRSxTQUFPLEtBRFQ7QUFFRSxTQUFPLG9CQUZUO0FBR0UsVUFBUSx5Q0FIVjtBQUlFLFdBQVM7QUFKWCxDQVBpQixFQWFqQjtBQUNFLFNB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aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBtb3VudCB9IGZyb20gJ2VuenltZSdcbmltcG9ydCBUZXN0UmVuZGVyZXIgZnJvbSAncmVhY3QtdGVzdC1yZW5kZXJlcidcbmltcG9ydCBzaW5vbiBmcm9tICdzaW5vbidcbmltcG9ydCBUYWJsZSBmcm9tICcuLidcblxuY29uc3QgZGF0YVNvdXJjZSA9IFtcbiAge1xuICAgIFwib25lXCI6IFwi6Zi/6JCo5b63XCIsXG4gICAgXCJ0d29cIjogXCLpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrdcIixcbiAgICBcImZvdXJcIjogXCLpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrdcIixcbiAgICBcInRocmVlXCI6IFwi6Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b63XCIsXG4gIH0sXG4gIHtcbiAgICBcIm9uZVwiOiBcIumYv+iQqOW+t1wiLFxuICAgIFwidHdvXCI6IFwi6Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b63XCIsXG4gICAgXCJmb3VyXCI6IFwi6Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b63XCIsXG4gICAgXCJ0aHJlZVwiOiBcIumYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t1wiLFxuICB9LFxuICB7XG4gICAgXCJvbmVcIjogXCLpmL/okKjlvrdcIixcbiAgICBcInR3b1wiOiBcIumYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t1wiLFxuICAgIFwiZm91clwiOiBcIumYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t1wiLFxuICAgIFwidGhyZWVcIjogXCLpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrdcIixcbiAgfSxcbiAge1xuICAgIFwib25lXCI6IFwi6Zi/6JCo5b63XCIsXG4gICAgXCJ0d29cIjogXCLpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrdcIixcbiAgICBcImZvdXJcIjogXCLpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrfpmL/okKjlvrdcIixcbiAgICBcInRocmVlXCI6IFwi6Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b63XCIsXG4gIH0sXG4gIHtcbiAgICBcIm9uZVwiOiBcIumYv+iQqOW+t1wiLFxuICAgIFwidHdvXCI6IFwi6Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b63XCIsXG4gICAgXCJmb3VyXCI6IFwi6Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b636Zi/6JCo5b63XCIsXG4gICAgXCJ0aHJlZVwiOiBcIumYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t+mYv+iQqOW+t1wiLFxuICB9LFxuXVxuXG5leHBvcnQgaW50ZXJmYWNlIElCYXNlT2JqZWN0IHtcbiAgW2tleTogc3RyaW5nXTogYW55XG59XG5cblxuZGVzY3JpYmUoXCJUYWJsZVwiLCAoKSA9PiB7XG5cbiAgYmVmb3JlQWxsKCgpID0+IHtcbiAgICAvKipcbiAgICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDAwMDY2NjNcbiAgICAgKiDpgJrov4cgbW9jayBgZ2V0Qm91bmRpbmdDbGllbnRSZWN0YO+8jOS5i+WQjui/kOihjOeahOaJgOaciSBgZ2V0Qm91bmRpbmdDbGllbnRSZWN0YCDpg73kvJrov5Tlm57ov5nlkIzkuIDkuKrlgLzjgIJcbiAgICAgKi9cbiAgICBFbGVtZW50LnByb3RvdHlwZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPSBqZXN0LmZuKCgpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiA1MDAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgICAgIHRvSlNPTjogKCkgPT4ge30sXG4gICAgICB9XG4gICAgfSlcbiAgfSlcblxuICBpdChcImhlYWRlckFmZml4ZWQg5qOA5rWLXCIsICgpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoXG4gICAgICA8VGFibGVcbiAgICAgICAgZGF0YVNvdXJjZT17ZGF0YVNvdXJjZX1cbiAgICAgICAgaGVhZGVyQWZmaXhlZFxuICAgICAgPlxuICAgICAgICA8VGFibGUuQ29sdW1uXG4gICAgICAgICAgZGF0YUluZGV4PVwib25lXCJcbiAgICAgICAgICB0aXRsZT1cIuesrOS4gOmhuVwiXG4gICAgICAgICAgcG9wb3Zlcj1cIuihqOWktOaPkOekuuWGheWuuVwiXG4gICAgICAgICAgd2lkdGg9XCIxMDBweFwiXG4gICAgICAgICAgZml4ZWQ9XCJsZWZ0XCJcbiAgICAgICAgLz5cbiAgICAgICAgPFRhYmxlLkNvbHVtblxuICAgICAgICAgIGZpeGVkPVwicmlnaHRcIlxuICAgICAgICAgIGRhdGFJbmRleD1cInR3b1wiXG4gICAgICAgICAgdGl0bGU9XCLnrKxlcumhuVwiXG4gICAgICAgICAgd2lkdGg9ezMwMH1cbiAgICAgICAgLz5cbiAgICAgICAgPFRhYmxlLkNvbHVtblxuICAgICAgICAgIGRhdGFJbmRleD1cInNcIlxuICAgICAgICAgIHRpdGxlPVwi56ysc2npoblcIlxuICAgICAgICAgIHdpZHRoPVwiMTAlXCJcbiAgICAgICAgICBhbGlnbj1cImNlbnRlclwiXG4gICAgICAgICAgcmVuZGVyPXsoKSA9PiBcIui/meS6m+aSkuWkp+WjsOWcsFwifVxuICAgICAgICAvPlxuICAgICAgICA8VGFibGUuQ29sdW1uXG4gICAgICAgICAgZGF0YUluZGV4PVwidGhyZWVcIlxuICAgICAgICAgIHRpdGxlPVwi56ysc2Fu6aG5XCJcbiAgICAgICAgLz5cbiAgICAgICAgPFRhYmxlLkNvbHVtblxuICAgICAgICAgIGRhdGFJbmRleD1cImZvdXJcIlxuICAgICAgICAgIHRpdGxlPVwi56ysc2npoblcIlxuICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgYWxpZ249XCJyaWdodFwiXG4gICAgICAgIC8+XG4gICAgICA8L1RhYmxlPlxuICAgIClcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZ2xvYmFsLmlubmVyV2lkdGggPSA1MDBcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZ2xvYmFsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXNpemUnKSlcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZ2xvYmFsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdzY3JvbGwnKSlcbiAgICB3cmFwcGVyLmluc3RhbmNlKCkuaGFuZGxlTWFpblRhYmxlU2Nyb2xsKClcbiAgICB3cmFwcGVyLmluc3RhbmNlKCkuY29tcG9uZW50V2lsbFVubW91bnQoKVxuICB9KVxuXG4gIC8vIGl0KFwiaGVpZ2h0IHByb3Ag6aqM6K+BXCIsICgpID0+IHtcbiAgLy8gICBjb25zdCBzdHViID0gc2lub24uc3R1Yihjb25zb2xlLCAnZXJyb3InKVxuICAvLyAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChcbiAgLy8gICAgIDxUYWJsZVxuICAvLyAgICAgICBkYXRhU291cmNlPXtkYXRhU291cmNlfVxuICAvLyAgICAgICBoZWlnaHQ9XCI1MDBweFwiXG4gIC8vICAgICA+XG4gIC8vICAgICAgIDxUYWJsZS5Db2x1bW5cbiAgLy8gICAgICAgICBkYXRhSW5kZXg9XCJvbmVcIlxuICAvLyAgICAgICAgIHRpdGxlPVwi56ys5LiA6aG5XCJcbiAgLy8gICAgICAgICBwb3BvdmVyPVwi6KGo5aS05o+Q56S65YaF5a65XCJcbiAgLy8gICAgICAgICB3aWR0aD17MTAwfVxuICAvLyAgICAgICAgIGZpeGVkPVwibGVmdFwiXG4gIC8vICAgICAgIC8+XG4gIC8vICAgICA8L1RhYmxlPlxuICAvLyAgIClcbiAgLy8gICBleHBlY3Qoc3R1Yi5jYWxsZWRPbmNlKS50b0JlKHRydWUpXG4gIC8vICAgc3R1Yi5yZXN0b3JlKClcbiAgLy8gfSlcblxuICBpdChcImhlaWdodCDkuI4gaGVhZGVyQWZmaXhlZCDkuI3og73lkIzml7bkvb/nlKgg6aqM6K+BXCIsICgpID0+IHtcbiAgICBjb25zdCBzdHViID0gc2lub24uc3R1Yihjb25zb2xlLCAnZXJyb3InKVxuICAgIG1vdW50KFxuICAgICAgPFRhYmxlXG4gICAgICAgIGRhdGFTb3VyY2U9e2RhdGFTb3VyY2V9XG4gICAgICAgIGhlaWdodD17NTAwfVxuICAgICAgICBoZWFkZXJBZmZpeGVkXG4gICAgICA+XG4gICAgICAgIDxUYWJsZS5Db2x1bW5cbiAgICAgICAgICBkYXRhSW5kZXg9XCJvbmVcIlxuICAgICAgICAgIHRpdGxlPVwi5Y2K6KeS5ous5Y+35aSWKOWNiuinkuaLrOWPt+WGhea1i+ivlSlcIlxuICAgICAgICAgIHBvcG92ZXI9XCLooajlpLTmj5DnpLrlhoXlrrlcIlxuICAgICAgICAgIHdpZHRoPXsxMDB9XG4gICAgICAgICAgZml4ZWQ9XCJsZWZ0XCJcbiAgICAgICAgLz5cbiAgICAgIDwvVGFibGU+XG4gICAgKVxuICAgIGV4cGVjdChzdHViLmNhbGxlZE9uY2UpLnRvQmUodHJ1ZSlcbiAgICBzdHViLnJlc3RvcmUoKVxuICB9KVxuXG4gIGl0KFwiaGVpZ2h0IOajgOa1i1wiLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAgICAgPFRhYmxlXG4gICAgICAgIGRhdGFTb3VyY2U9e2RhdGFTb3VyY2V9XG4gICAgICAgIGhlaWdodD17MjAwfVxuICAgICAgPlxuICAgICAgICA8VGFibGUuQ29sdW1uXG4gICAgICAgICAgZGF0YUluZGV4PVwib25lXCJcbiAgICAgICAgICB0aXRsZT1cIuesrOS4gOmhuVwiXG4gICAgICAgICAgcG9wb3Zlcj1cIuihqOWktOaPkOekuuWGheWuuVwiXG4gICAgICAgICAgd2lkdGg9ezEwMH1cbiAgICAgICAgICBmaXhlZD1cImxlZnRcIlxuICAgICAgICAvPlxuICAgICAgICA8VGFibGUuQ29sdW1uXG4gICAgICAgICAgZml4ZWQ9XCJyaWdodFwiXG4gICAgICAgICAgZGF0YUluZGV4PVwidHdvXCJcbiAgICAgICAgICB0aXRsZT1cIuesrGVy6aG5XCJcbiAgICAgICAgICB3aWR0aD17MzAwfVxuICAgICAgICAvPlxuICAgICAgICA8VGFibGUuQ29sdW1uXG4gICAgICAgICAgZGF0YUluZGV4PVwic1wiXG4gICAgICAgICAgdGl0bGU9XCLnrKxzaemhuVwiXG4gICAgICAgICAgd2lkdGg9ezMwMH1cbiAgICAgICAgICBhbGlnbj1cImNlbnRlclwiXG4gICAgICAgICAgcmVuZGVyPXsoKSA9PiBcIui/meS6m+aSkuWkp+WjsOWcsFwifVxuICAgICAgICAvPlxuICAgICAgICA8VGFibGUuQ29sdW1uXG4gICAgICAgICAgZGF0YUluZGV4PVwidGhyZWVcIlxuICAgICAgICAgIHRpdGxlPVwi56ysc2Fu6aG5XCJcbiAgICAgICAgLz5cbiAgICAgICAgPFRhYmxlLkNvbHVtblxuICAgICAgICAgIGRhdGFJbmRleD1cImZvdXJcIlxuICAgICAgICAgIHRpdGxlPVwi56ysc2npoblcIlxuICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgYWxpZ249XCJyaWdodFwiXG4gICAgICAgIC8+XG4gICAgICA8L1RhYmxlPlxuICAgIClcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZ2xvYmFsLmlubmVyV2lkdGggPSA1MDBcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZ2xvYmFsLmlubmVySGVpZ2h0ID0gNTAwXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgncmVzaXplJykpXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnc2Nyb2xsJykpXG4gICAgd3JhcHBlci5pbnN0YW5jZSgpLmhhbmRsZU1haW5UYWJsZVNjcm9sbCgpXG4gIH0pXG5cbiAgLy8gaXQoXCJDb2x1bW4gd2lkdGggcHJvcCDpqozor4FcIiwgKCkgPT4ge1xuICAvLyAgIGNvbnN0IHN0dWIgPSBzaW5vbi5zdHViKGNvbnNvbGUsICdlcnJvcicpXG4gIC8vICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFxuICAvLyAgICAgPFRhYmxlXG4gIC8vICAgICAgIGRhdGFTb3VyY2U9e2RhdGFTb3VyY2V9XG4gIC8vICAgICA+XG4gIC8vICAgICAgIDxUYWJsZS5Db2x1bW5cbiAgLy8gICAgICAgICBkYXRhSW5kZXg9XCJvbmVcIlxuICAvLyAgICAgICAgIHRpdGxlPVwi56ys5LiA6aG5XCJcbiAgLy8gICAgICAgICB3aWR0aD17W119XG4gIC8vICAgICAgIC8+XG4gIC8vICAgICA8L1RhYmxlPlxuICAvLyAgIClcbiAgLy8gICBleHBlY3Qoc3R1Yi5jYWxsZWRPbmNlKS50b0JlKHRydWUpXG4gIC8vICAgc3R1Yi5yZXN0b3JlKClcbiAgLy8gfSlcblxuICBpdChcIkNvbHVtbiB3aWR0aCDlnKggZml4ZWQg5pe25b+F6aG76K6+572uIOmqjOivgVwiLCAoKSA9PiB7XG4gICAgY29uc3Qgc3R1YiA9IHNpbm9uLnN0dWIoY29uc29sZSwgJ2Vycm9yJylcbiAgICBtb3VudChcbiAgICAgIDxUYWJsZVxuICAgICAgICBkYXRhU291cmNlPXtkYXRhU291cmNlfVxuICAgICAgPlxuICAgICAgICA8VGFibGUuQ29sdW1uXG4gICAgICAgICAgZGF0YUluZGV4PVwib25lXCJcbiAgICAgICAgICB0aXRsZT1cIuesrOS4gOmhuVwiXG4gICAgICAgICAgZml4ZWQ9XCJsZWZ0XCJcbiAgICAgICAgLz5cbiAgICAgIDwvVGFibGU+XG4gICAgKVxuICAgIGV4cGVjdChzdHViLmNhbGxlZE9uY2UpLnRvQmUodHJ1ZSlcbiAgICBzdHViLnJlc3RvcmUoKVxuICB9KVxuXG4gIGl0KFwibG9hZGluZyDlv6vnhadcIiwgKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBUZXN0UmVuZGVyZXIuY3JlYXRlKFxuICAgICAgPFRhYmxlXG4gICAgICAgIGxvYWRpbmdcbiAgICAgICAgZGF0YVNvdXJjZT17ZGF0YVNvdXJjZX1cbiAgICAgID5cbiAgICAgICAgPFRhYmxlLkNvbHVtblxuICAgICAgICAgIGRhdGFJbmRleD1cIm9uZVwiXG4gICAgICAgICAgdGl0bGU9XCLnrKzkuIDpoblcIlxuICAgICAgICAgIGZpeGVkPVwibGVmdFwiXG4gICAgICAgIC8+XG4gICAgICA8L1RhYmxlPlxuICAgIClcbiAgICBleHBlY3Qod3JhcHBlcikudG9NYXRjaFNuYXBzaG90KClcbiAgfSlcblxuICBpdChcIuWQiOW5tuWNleWFg+agvOW/q+eFp1wiLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IFRlc3RSZW5kZXJlci5jcmVhdGUoXG4gICAgICA8VGFibGVcbiAgICAgICAgZGF0YVNvdXJjZT17ZGF0YVNvdXJjZX1cbiAgICAgICAgZ2V0Q2VsbFByb3BzPXsoXywgX18sIHJvd0luZGV4LCBjb2xJbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gMCAmJiBjb2xJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcm93U3BhbjogMixcbiAgICAgICAgICAgICAgY29sU3BhbjogMixcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJvd0luZGV4ID09PSAzICYmIGNvbEluZGV4ID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICByb3dTcGFuOiAyLFxuICAgICAgICAgICAgICBjb2xTcGFuOiAxLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocm93SW5kZXggPT09IDMgJiYgY29sSW5kZXggPT09IDMpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHJvd1NwYW46IDIsXG4gICAgICAgICAgICAgIGNvbFNwYW46IDEsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gMiAmJiBjb2xJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcm93U3BhbjogMSxcbiAgICAgICAgICAgICAgY29sU3BhbjogMSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHt9XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxUYWJsZS5Db2x1bW5cbiAgICAgICAgICBkYXRhSW5kZXg9XCJvbmVcIlxuICAgICAgICAgIHRpdGxlPVwi56ys5LiA6aG5XCJcbiAgICAgICAgICBmaXhlZFxuICAgICAgICAvPlxuICAgICAgICA8VGFibGUuQ29sdW1uXG4gICAgICAgICAgZGF0YUluZGV4PVwidHdvXCJcbiAgICAgICAgICB0aXRsZT1cIuesrGVy6aG5XCJcbiAgICAgICAgICBmaXhlZFxuICAgICAgICAvPlxuICAgICAgICA8VGFibGUuQ29sdW1uXG4gICAgICAgICAgZGF0YUluZGV4PVwidGhyZWVcIlxuICAgICAgICAgIHRpdGxlPVwi56ysM+mhuVwiXG4gICAgICAgICAgYWxpZ249XCJjZW50ZXJcIlxuICAgICAgICAvPlxuICAgICAgICA8VGFibGUuQ29sdW1uXG4gICAgICAgICAgZGF0YUluZGV4PVwiZm91clwiXG4gICAgICAgICAgdGl0bGU9XCLnrKzlm5vpoblcIlxuICAgICAgICAgIGFsaWduPVwiY2VudGVyXCJcbiAgICAgICAgICBmaXhlZD1cInJpZ2h0XCJcbiAgICAgICAgLz5cbiAgICAgIDwvVGFibGU+XG4gICAgKVxuICAgIGV4cGVjdCh3cmFwcGVyKS50b01hdGNoU25hcHNob3QoKVxuICB9KVxufSkiXX0=