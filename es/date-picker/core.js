function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

import { DateUtils } from "day-picker-react";
export var MONTHS = ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"];
export var WEEKDAYS_LONG = ["周日", "周一", "周二", "周三", "周四", "周五", "周六"];
export var WEEKDAYS_SHORT = ["日", "一", "二", "三", "四", "五", "六"];
export var MONTHS_EN = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
export var WEEKDAYS_LONG_EN = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
export var WEEKDAYS_SHORT_EN = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"];
export var getDefaultMaxDate = function getDefaultMaxDate() {
  var date = new Date();
  date.setFullYear(date.getFullYear() + 1);
  date.setMonth(11, 31);
  return date;
};
export var getDefaultMinDate = function getDefaultMinDate() {
  var date = new Date();
  date.setFullYear(date.getFullYear() - 4);
  date.setMonth(0, 1);
  return date;
};
export var areSameMonth = function areSameMonth(date1, date2) {
  return date1 != null && date2 != null && date1.getMonth() === date2.getMonth() && date1.getFullYear() === date2.getFullYear();
};
export var areSameDay = function areSameDay(date1, date2) {
  return areSameMonth(date1, date2) && date1.getDate() === date2.getDate();
};
export var isLegalDateString = function isLegalDateString(date) {
  if (date.trim() === "") {
    return true;
  }

  var strings = date.split("-");

  if (strings.length === 3 && strings[0].length === 4 && strings[1].length === 2 && strings[2].length === 2 && !isNaN(Number(strings[0])) && !isNaN(Number(strings[1])) && !isNaN(Number(strings[2]))) {
    var checkLeapYear = function checkLeapYear(str) {
      return str % 4 === 0 && str % 100 !== 0 || str % 400 === 0;
    };

    var solar = [1, 3, 5, 7, 8, 10, 12];
    var lunar = [4, 6, 9, 11];
    var year = parseInt(strings[0], 10);
    var month = parseInt(strings[1], 10);
    var day = parseInt(strings[2], 10);

    if (month > 0 && month < 13) {
      if (solar.includes(month)) {
        if (day > 0 && day < 32) {
          return true;
        }
      } else if (lunar.includes(month)) {
        if (day > 0 && day < 31) {
          return true;
        }
      } else {
        if (checkLeapYear(year) && day > 0 && day < 30) {
          return true;
        }

        if (!checkLeapYear(year) && day > 0 && day < 29) {
          return true;
        }
      }
    }

    return false;
  }

  return false;
};
export var isLegalDateRangeString = function isLegalDateRangeString(date) {
  if (date.trim() === "") {
    return true;
  }

  var strings = date.split(" - ");
  return strings.length === 2 && strings[0].length && strings[1].length && isLegalDateString(strings[0]) && isLegalDateString(strings[1]);
};
export var convertDateToString = function convertDateToString(date) {
  if (!date) {
    return "";
  }

  var year = "";
  var month = "";
  var day = "";

  try {
    ;

    var _date$toLocaleDateStr = date.toLocaleDateString("zh-Hans-CN").split("/");

    var _date$toLocaleDateStr2 = _slicedToArray(_date$toLocaleDateStr, 3);

    year = _date$toLocaleDateStr2[0];
    month = _date$toLocaleDateStr2[1];
    day = _date$toLocaleDateStr2[2];
  } catch (error) {
    ;

    var _date$toLocaleDateStr3 = date.toLocaleDateString("en-US").split("/");

    var _date$toLocaleDateStr4 = _slicedToArray(_date$toLocaleDateStr3, 3);

    month = _date$toLocaleDateStr4[0];
    day = _date$toLocaleDateStr4[1];
    year = _date$toLocaleDateStr4[2];
  }

  var addZero = function addZero(s) {
    if (parseInt(s, 10) < 10) {
      return "0".concat(s);
    }

    return s;
  };

  return "".concat(year, "-").concat(addZero(month), "-").concat(addZero(day));
};
export var convertDateRangeToString = function convertDateRangeToString(range) {
  if (!range) {
    return "";
  }

  var from = range[0];
  var to = range[1];

  if (!(from && to)) {
    return "";
  }

  if (DateUtils.isDayAfter(to, from)) {
    return "".concat(convertDateToString(from), " - ").concat(convertDateToString(to));
  }

  return "".concat(convertDateToString(to), " - ").concat(convertDateToString(from));
};
export var clone = function clone(d) {
  return d ? new Date(d.getTime()) : null;
};
export var isDayInRange = function isDayInRange(date, dateRange) {
  var exclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  if (date === null || dateRange[0] === null || dateRange[1] === null) {
    return false;
  }

  var day = clone(date);
  var start = clone(dateRange[0]);
  var end = clone(dateRange[1]);

  if (day) {
    day.setHours(0, 0, 0, 0);
  }

  if (start) {
    start.setHours(0, 0, 0, 0);
  }

  if (end) {
    end.setHours(0, 0, 0, 0);
  }

  return start && day && end ? start <= day && day <= end && (!exclusive || !areSameDay(start, day) && !areSameDay(day, end)) : null;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2NvbXBvbmVudHMvZGF0ZS1waWNrZXIvY29yZS50cyJdLCJuYW1lcyI6WyJEYXRlVXRpbHMiLCJNT05USFMiLCJXRUVLREFZU19MT05HIiwiV0VFS0RBWVNfU0hPUlQiLCJNT05USFNfRU4iLCJXRUVLREFZU19MT05HX0VOIiwiV0VFS0RBWVNfU0hPUlRfRU4iLCJnZXREZWZhdWx0TWF4RGF0ZSIsImRhdGUiLCJEYXRlIiwic2V0RnVsbFllYXIiLCJnZXRGdWxsWWVhciIsInNldE1vbnRoIiwiZ2V0RGVmYXVsdE1pbkRhdGUiLCJhcmVTYW1lTW9udGgiLCJkYXRlMSIsImRhdGUyIiwiZ2V0TW9udGgiLCJhcmVTYW1lRGF5IiwiZ2V0RGF0ZSIsImlzTGVnYWxEYXRlU3RyaW5nIiwidHJpbSIsInN0cmluZ3MiLCJzcGxpdCIsImxlbmd0aCIsImlzTmFOIiwiTnVtYmVyIiwiY2hlY2tMZWFwWWVhciIsInN0ciIsInNvbGFyIiwibHVuYXIiLCJ5ZWFyIiwicGFyc2VJbnQiLCJtb250aCIsImRheSIsImluY2x1ZGVzIiwiaXNMZWdhbERhdGVSYW5nZVN0cmluZyIsImNvbnZlcnREYXRlVG9TdHJpbmciLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJlcnJvciIsImFkZFplcm8iLCJzIiwiY29udmVydERhdGVSYW5nZVRvU3RyaW5nIiwicmFuZ2UiLCJmcm9tIiwidG8iLCJpc0RheUFmdGVyIiwiY2xvbmUiLCJkIiwiZ2V0VGltZSIsImlzRGF5SW5SYW5nZSIsImRhdGVSYW5nZSIsImV4Y2x1c2l2ZSIsInN0YXJ0IiwiZW5kIiwic2V0SG91cnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLFNBQVNBLFNBQVQsUUFBMEIsa0JBQTFCO0FBRUEsT0FBTyxJQUFNQyxNQUFNLEdBQUcsQ0FDcEIsSUFEb0IsRUFFcEIsSUFGb0IsRUFHcEIsSUFIb0IsRUFJcEIsSUFKb0IsRUFLcEIsSUFMb0IsRUFNcEIsSUFOb0IsRUFPcEIsSUFQb0IsRUFRcEIsSUFSb0Is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TUFBSWpCLEdBQUosRUFBUztBQUNQQSxJQUFBQSxHQUFHLENBQUNxQixRQUFKLENBQWEsQ0FBYixFQUFnQixDQUFoQixFQUFtQixDQUFuQixFQUFzQixDQUF0QjtBQUNEOztBQUNELE1BQUlGLEtBQUosRUFBVztBQUNUQSxJQUFBQSxLQUFLLENBQUNFLFFBQU4sQ0FBZSxDQUFmLEVBQWtCLENBQWxCLEVBQXFCLENBQXJCLEVBQXdCLENBQXhCO0FBQ0Q7O0FBQ0QsTUFBSUQsR0FBSixFQUFTO0FBQ1BBLElBQUFBLEdBQUcsQ0FBQ0MsUUFBSixDQUFhLENBQWIsRUFBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkIsRUFBc0IsQ0FBdEI7QUFDRDs7QUFFRCxTQUFPRixLQUFLLElBQUluQixHQUFULElBQWdCb0IsR0FBaEIsR0FDSEQsS0FBSyxJQUFJbkIsR0FBVCxJQUNFQSxHQUFHLElBQUlvQixHQURULEtBRUcsQ0FBQ0YsU0FBRCxJQUFlLENBQUNsQyxVQUFVLENBQUNtQyxLQUFELEVBQVFuQixHQUFSLENBQVgsSUFBMkIsQ0FBQ2hCLFVBQVUsQ0FBQ2dCLEdBQUQsRUFBTW9CLEdBQU4sQ0FGeEQsQ0FERyxHQUlILElBSko7QUFLRCxDQTVCTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGVVdGlscyB9IGZyb20gXCJkYXktcGlja2VyLXJlYWN0XCJcblxuZXhwb3J0IGNvbnN0IE1PTlRIUyA9IFtcbiAgXCIx5pyIXCIsXG4gIFwiMuaciFwiLFxuICBcIjPmnIhcIixcbiAgXCI05pyIXCIsXG4gIFwiNeaciFwiLFxuICBcIjbmnIhcIixcbiAgXCI35pyIXCIsXG4gIFwiOOaciFwiLFxuICBcIjnmnIhcIixcbiAgXCIxMOaciFwiLFxuICBcIjEx5pyIXCIsXG4gIFwiMTLmnIhcIixcbl1cbmV4cG9ydCBjb25zdCBXRUVLREFZU19MT05HID0gW1xuICBcIuWRqOaXpVwiLFxuICBcIuWRqOS4gFwiLFxuICBcIuWRqOS6jFwiLFxuICBcIuWRqOS4iVwiLFxuICBcIuWRqOWbm1wiLFxuICBcIuWRqOS6lFwiLFxuICBcIuWRqOWFrVwiLFxuXVxuZXhwb3J0IGNvbnN0IFdFRUtEQVlTX1NIT1JUID0gW1wi5pelXCIsIFwi5LiAXCIsIFwi5LqMXCIsIFwi5LiJXCIsIFwi5ZubXCIsIFwi5LqUXCIsIFwi5YWtXCJdXG5cbmV4cG9ydCBjb25zdCBNT05USFNfRU4gPSBbXG4gIFwiSmFudWFyeVwiLFxuICBcIkZlYnJ1YXJ5XCIsXG4gIFwiTWFyY2hcIixcbiAgXCJBcHJpbFwiLFxuICBcIk1heVwiLFxuICBcIkp1bmVcIixcbiAgXCJKdWx5XCIsXG4gIFwiQXVndXN0XCIsXG4gIFwiU2VwdGVtYmVyXCIsXG4gIFwiT2N0b2JlclwiLFxuICBcIk5vdmVtYmVyXCIsXG4gIFwiRGVjZW1iZXJcIixcbl1cbmV4cG9ydCBjb25zdCBXRUVLREFZU19MT05HX0VOID0gW1xuICBcIlN1bmRheVwiLFxuICBcIk1vbmRheVwiLFxuICBcIlR1ZXNkYXlcIixcbiAgXCJXZWRuZXNkYXlcIixcbiAgXCJUaHVyc2RheVwiLFxuICBcIkZyaWRheVwiLFxuICBcIlNhdHVyZGF5XCIsXG5dXG5leHBvcnQgY29uc3QgV0VFS0RBWVNfU0hPUlRfRU4gPSBbXCJTdVwiLCBcIk1vXCIsIFwiVHVcIiwgXCJXZVwiLCBcIlRoXCIsIFwiRnJcIiwgXCJTYVwiXVxuXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdE1heERhdGUgPSAoKSA9PiB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXG4gIGRhdGUuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpICsgMSlcbiAgZGF0ZS5zZXRNb250aCgxMSwgMzEpXG4gIHJldHVybiBkYXRlXG59XG5cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0TWluRGF0ZSA9ICgpID0+IHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcbiAgZGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkgLSA0KVxuICBkYXRlLnNldE1vbnRoKDAsIDEpXG4gIHJldHVybiBkYXRlXG59XG5cbmV4cG9ydCBjb25zdCBhcmVTYW1lTW9udGggPSAoZGF0ZTE/OiBEYXRlIHwgbnVsbCwgZGF0ZTI/OiBEYXRlIHwgbnVsbCkgPT5cbiAgZGF0ZTEgIT0gbnVsbCAmJlxuICBkYXRlMiAhPSBudWxsICYmXG4gIGRhdGUxLmdldE1vbnRoKCkgPT09IGRhdGUyLmdldE1vbnRoKCkgJiZcbiAgZGF0ZTEuZ2V0RnVsbFllYXIoKSA9PT0gZGF0ZTIuZ2V0RnVsbFllYXIoKVxuXG5leHBvcnQgY29uc3QgYXJlU2FtZURheSA9IChkYXRlMTogRGF0ZSwgZGF0ZTI6IERhdGUpID0+XG4gIGFyZVNhbWVNb250aChkYXRlMSwgZGF0ZTIpICYmIGRhdGUxLmdldERhdGUoKSA9PT0gZGF0ZTIuZ2V0RGF0ZSgpXG5cbmV4cG9ydCBjb25zdCBpc0xlZ2FsRGF0ZVN0cmluZyA9IChkYXRlOiBzdHJpbmcpID0+IHtcbiAgaWYgKGRhdGUudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBjb25zdCBzdHJpbmdzID0gZGF0ZS5zcGxpdChcIi1cIilcbiAgaWYgKFxuICAgIHN0cmluZ3MubGVuZ3RoID09PSAzICYmXG4gICAgc3RyaW5nc1swXS5sZW5ndGggPT09IDQgJiZcbiAgICBzdHJpbmdzWzFdLmxlbmd0aCA9PT0gMiAmJlxuICAgIHN0cmluZ3NbMl0ubGVuZ3RoID09PSAyICYmXG4gICAgIWlzTmFOKE51bWJlcihzdHJpbmdzWzBdKSkgJiZcbiAgICAhaXNOYU4oTnVtYmVyKHN0cmluZ3NbMV0pKSAmJlxuICAgICFpc05hTihOdW1iZXIoc3RyaW5nc1syXSkpXG4gICkge1xuICAgIGNvbnN0IGNoZWNrTGVhcFllYXIgPSAoc3RyOiBudW1iZXIpID0+XG4gICAgICAoc3RyICUgNCA9PT0gMCAmJiBzdHIgJSAxMDAgIT09IDApIHx8IHN0ciAlIDQwMCA9PT0gMFxuICAgIGNvbnN0IHNvbGFyID0gWzEsIDMsIDUsIDcsIDgsIDEwLCAxMl1cbiAgICBjb25zdCBsdW5hciA9IFs0LCA2LCA5LCAxMV1cbiAgICBjb25zdCB5ZWFyID0gcGFyc2VJbnQoc3RyaW5nc1swXSwgMTApXG4gICAgY29uc3QgbW9udGggPSBwYXJzZUludChzdHJpbmdzWzFdLCAxMClcbiAgICBjb25zdCBkYXkgPSBwYXJzZUludChzdHJpbmdzWzJdLCAxMClcbiAgICBpZiAobW9udGggPiAwICYmIG1vbnRoIDwgMTMpIHtcbiAgICAgIGlmIChzb2xhci5pbmNsdWRlcyhtb250aCkpIHtcbiAgICAgICAgaWYgKGRheSA+IDAgJiYgZGF5IDwgMzIpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGx1bmFyLmluY2x1ZGVzKG1vbnRoKSkge1xuICAgICAgICBpZiAoZGF5ID4gMCAmJiBkYXkgPCAzMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjaGVja0xlYXBZZWFyKHllYXIpICYmIGRheSA+IDAgJiYgZGF5IDwgMzApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmICghY2hlY2tMZWFwWWVhcih5ZWFyKSAmJiBkYXkgPiAwICYmIGRheSA8IDI5KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZXhwb3J0IGNvbnN0IGlzTGVnYWxEYXRlUmFuZ2VTdHJpbmcgPSAoZGF0ZTogc3RyaW5nKSA9PiB7XG4gIGlmIChkYXRlLnRyaW0oKSA9PT0gXCJcIikge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgY29uc3Qgc3RyaW5ncyA9IGRhdGUuc3BsaXQoXCIgLSBcIilcbiAgcmV0dXJuIChcbiAgICBzdHJpbmdzLmxlbmd0aCA9PT0gMiAmJlxuICAgIHN0cmluZ3NbMF0ubGVuZ3RoICYmXG4gICAgc3RyaW5nc1sxXS5sZW5ndGggJiZcbiAgICBpc0xlZ2FsRGF0ZVN0cmluZyhzdHJpbmdzWzBdKSAmJlxuICAgIGlzTGVnYWxEYXRlU3RyaW5nKHN0cmluZ3NbMV0pXG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnZlcnREYXRlVG9TdHJpbmcgPSAoZGF0ZT86IERhdGUgfCBcIlwiIHwgbnVsbCkgPT4ge1xuICBpZiAoIWRhdGUpIHtcbiAgICByZXR1cm4gXCJcIlxuICB9XG4gIGxldCB5ZWFyID0gXCJcIlxuICBsZXQgbW9udGggPSBcIlwiXG4gIGxldCBkYXkgPSBcIlwiXG4gIHRyeSB7XG4gICAgO1t5ZWFyLCBtb250aCwgZGF5XSA9IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKFwiemgtSGFucy1DTlwiKS5zcGxpdChcIi9cIilcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICA7W21vbnRoLCBkYXksIHllYXJdID0gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1VU1wiKS5zcGxpdChcIi9cIilcbiAgfVxuXG4gIGNvbnN0IGFkZFplcm8gPSAoczogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHBhcnNlSW50KHMsIDEwKSA8IDEwKSB7XG4gICAgICByZXR1cm4gYDAke3N9YFxuICAgIH1cbiAgICByZXR1cm4gc1xuICB9XG4gIHJldHVybiBgJHt5ZWFyfS0ke2FkZFplcm8obW9udGgpfS0ke2FkZFplcm8oZGF5KX1gXG59XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0RGF0ZVJhbmdlVG9TdHJpbmcgPSAoXG4gIHJhbmdlPzogW0RhdGUgfCB1bmRlZmluZWQgfCBudWxsLCBEYXRlIHwgdW5kZWZpbmVkIHwgbnVsbF1cbikgPT4ge1xuICBpZiAoIXJhbmdlKSB7XG4gICAgcmV0dXJuIFwiXCJcbiAgfVxuICBjb25zdCBmcm9tID0gcmFuZ2VbMF1cbiAgY29uc3QgdG8gPSByYW5nZVsxXVxuICBpZiAoIShmcm9tICYmIHRvKSkge1xuICAgIHJldHVybiBcIlwiXG4gIH1cbiAgaWYgKERhdGVVdGlscy5pc0RheUFmdGVyKHRvLCBmcm9tKSkge1xuICAgIHJldHVybiBgJHtjb252ZXJ0RGF0ZVRvU3RyaW5nKGZyb20pfSAtICR7Y29udmVydERhdGVUb1N0cmluZyh0byl9YFxuICB9XG4gIHJldHVybiBgJHtjb252ZXJ0RGF0ZVRvU3RyaW5nKHRvKX0gLSAke2NvbnZlcnREYXRlVG9TdHJpbmcoZnJvbSl9YFxufVxuXG5leHBvcnQgY29uc3QgY2xvbmUgPSAoZDogRGF0ZSB8IG51bGwgfCB1bmRlZmluZWQpID0+XG4gIGQgPyBuZXcgRGF0ZShkLmdldFRpbWUoKSkgOiBudWxsXG5cbmV4cG9ydCBjb25zdCBpc0RheUluUmFuZ2UgPSAoXG4gIGRhdGU6IERhdGUsXG4gIGRhdGVSYW5nZTogW0RhdGUgfCBudWxsIHwgdW5kZWZpbmVkLCBEYXRlIHwgbnVsbCB8IHVuZGVmaW5lZF0sXG4gIGV4Y2x1c2l2ZTogYm9vbGVhbiA9IGZhbHNlXG4pID0+IHtcbiAgaWYgKGRhdGUgPT09IG51bGwgfHwgZGF0ZVJhbmdlWzBdID09PSBudWxsIHx8IGRhdGVSYW5nZVsxXSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgY29uc3QgZGF5ID0gY2xvbmUoZGF0ZSlcbiAgY29uc3Qgc3RhcnQgPSBjbG9uZShkYXRlUmFuZ2VbMF0pXG4gIGNvbnN0IGVuZCA9IGNsb25lKGRhdGVSYW5nZVsxXSlcblxuICBpZiAoZGF5KSB7XG4gICAgZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApXG4gIH1cbiAgaWYgKHN0YXJ0KSB7XG4gICAgc3RhcnQuc2V0SG91cnMoMCwgMCwgMCwgMClcbiAgfVxuICBpZiAoZW5kKSB7XG4gICAgZW5kLnNldEhvdXJzKDAsIDAsIDAsIDApXG4gIH1cblxuICByZXR1cm4gc3RhcnQgJiYgZGF5ICYmIGVuZFxuICAgID8gc3RhcnQgPD0gZGF5ICYmXG4gICAgICAgIGRheSA8PSBlbmQgJiZcbiAgICAgICAgKCFleGNsdXNpdmUgfHwgKCFhcmVTYW1lRGF5KHN0YXJ0LCBkYXkpICYmICFhcmVTYW1lRGF5KGRheSwgZW5kKSkpXG4gICAgOiBudWxsXG59XG4iXX0=